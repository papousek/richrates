<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions" xmlns:rich="http://richfaces.org/rich"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
<f:view>
    <h:head>
        <title>RichRates</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />

        <!-- enable full-screen mode -->
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <!-- controls the appearance of the status bar in full-screen mode -->
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />

        <link rel="stylesheet" href="#{facesContext.externalContext.requestContextPath}/resources/styles/slidfast.css" />
        <script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/resources/scripts/slidfast.js" />

        <script type="text/javascript">
           // Google Analytics code goes here

           // initialize mobile RichFaces with slidfast
           slidfast({
               defaultPageID:'home-page',
               callback: 'handleHashChange',
               backButtonID: 'back-button' //optional
           });
        </script>
    </h:head>

    <h:body>
        <link rel="stylesheet" href="#{facesContext.externalContext.requestContextPath}/resources/styles/rf-mobile-skin.css" />

        <div id="browser">
            <header>
                <div>
                    <div id="back-button" class="hide-button">Back</div>
                    <a href="#{facesContext.externalContext.requestContextPath}"> Home </a>
                    <h:graphicImage id="ajaxLoader" width="16" height="16" value="/resources/images/loader.gif" alt="loader"
                        style="float: right; margin: 14px; visibility: hidden" />
                    <a4j:status onstart="#{rich:element('ajaxLoader')}.style.visibility='visible'"
                        onstop="#{rich:element('ajaxLoader')}.style.visibility='hidden'" />
                </div>
            </header>
            <h:form style="width:100%; height:100%;">
                <a4j:jsFunction name="handleHashChange" render="@form" oncomplete="slidfast.core.slideTo('component-page')">
                    <f:param name="page" value="param1" />
                </a4j:jsFunction>

                <div id="page-container">
                    <div id="home-page" class="page stage-left">
                        <nav>
                            <div class="nav-list">
                                <rich:panelMenu activeItem="#{pageNavigator.currentPage}">
                                    <rich:panelMenuItem label="Calculator"
                                        oncomplete="location.hash='#{pageNavigator.currentPage}'" render="@form">
                                        <f:param name="page" value="calculator" />
                                    </rich:panelMenuItem>
                                    <rich:panelMenuItem label="Daily Exchange Rates"
                                        oncomplete="location.hash='#{pageNavigator.currentPage}'" render="@form">
                                        <f:param name="page" value="table" />
                                    </rich:panelMenuItem>
                                    <rich:panelMenuItem label="Chart" oncomplete="location.hash='#{pageNavigator.currentPage}'"
                                        render="@form">
                                        <f:param name="page" value="chart" />
                                    </rich:panelMenuItem>
                                </rich:panelMenu>
                            </div>
                        </nav>
                    </div>

                    <div id="component-page" class="page stage-right">

                        <div>
                            <h:outputStylesheet>
                                .navigation .rf-tab-hdr-brd,.navigation .rf-tab {
                                display: none;
                                }
                            </h:outputStylesheet>
                            <div>
                                <fieldset class="example-cnt">
                                    <ui:include src="#{pageNavigator.sampleURI}" />
                                </fieldset>
                            </div>
                        </div>
                    </div>
                </div>
            </h:form>
        </div>

    </h:body>
</f:view>
</html>